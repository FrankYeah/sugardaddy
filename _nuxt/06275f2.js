(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1106:function(e,t,n){var content=n(1139);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(44).default)("27b85c52",content,!0,{sourceMap:!1})},1138:function(e,t,n){"use strict";n(1106)},1139:function(e,t,n){var r=n(43)(!1);r.push([e.i,"",""]),e.exports=r},1176:function(e,t,n){"use strict";n.r(t);var r=n(23),o=(n(127),{head:{title:"SugarDaddy"},layout:"default",components:{},props:{},data:function(){return{imgUrl:"",login:{memMail:"admin",memPwd:"admin"}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getUsers();case 1:case"end":return t.stop()}}),t)})))()},destroyed:function(){},computed:{},methods:{loginTo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$auth.loginWith("local",{data:e.login});case 3:t.sent,e.getUser(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.getUser();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getUser:function(){var e=this;this.$axios.get("/api/user").then((function(t){console.log(t),e.$auth.$state.loggedIn=!0,e.$router.push("/")})).catch((function(e){console.log(e)}))},getUsers:function(){var e=this;this.$axios.get("/api/users").then((function(t){console.log(t.data.data[0].ImageData[0].imageUrl),e.imgUrl=t.data.data[0].ImageData[0].imageUrl})).catch((function(e){console.log(e)}))},uploadPic:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new FormData,r=document.querySelector("#file"),n.append("image",r.files[0]),console.log(r),e.$axios.post("api/uploadImage",n,{headers:{"Content-Type":"multipart/form-data"}});case 5:case"end":return t.stop()}}),t)})))()}},watch:{}}),c=(n(1138),n(49)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("button",{on:{click:function(t){return e.loginTo()}}},[e._v("登入")]),e._v(" "),n("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:"https://e571-61-228-192-116.jp.ngrok.io/sweetNet/508e6dc3-a47e-40ad-9ac6-ec7f73b5493e/1651927210360.jpeg",alt:""}}),e._v(" "),n("div",{on:{click:function(t){return e.uploadPic()}}},[e._v("上傳圖片")]),e._v(" "),n("form",{attrs:{id:"uploadForm",enctype:"multipart/form-data"},on:{change:function(t){return e.uploadPic()}}},[n("input",{attrs:{type:"file",id:"file",name:"file"}})])])}),[],!1,null,"3e3bd96c",null);t.default=component.exports}}]);